{% extends 'csp_app/admindashboard.html' %}
{% load static %}
{% block titleblock %} Team {% endblock %}

{% block bodyblock %} 

    <div class="tabs">
        <a href="{% url 'csp_app:candidate' %}" class="tab-btns active-tab"> Candidates</a>   
    </div>

{% endblock %}

{% block tabcontentblock %}
<div class="tab-container">
    <button id="new_candidate" class="add-new-btn">New Candidate</button>
   
</div>
<div class="table-container">
  
    <table id="candidate-table" class="dataTable">
        <thead>
            <tr>
                <th>Candidate Name</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% if candidate_list %}
                {% for eachcandidate in candidate_list %}

                    <tr>
                        <td>{{ eachcandidate.First_name }}</td>
                        <td style="text-align: center;"><a href="http://">view</a> | <a href="http://">edit</a> | <a href="http://">delete</a></td>
                    </tr>

                {% endfor %}                

            {% else %}
                {% for eachcandidate in candidate_list %}
                <tr>
                    <td></td>
                    <td></td>
                </tr>
                {% endfor %}
            {% endif %}
        </tbody>   
    </table>
  
</div>
<div id="candidates_form" class="form_modal" style="padding-top: 1%;">
    <div class="form_header">
        <div class="forms-heading">
            <h2>Create New candidate</h2>
        </div>
        <div class="hr_line" style="margin-bottom: 10px;">&nbsp;</div>
     
    </div>
    <div class="form_content" style="height: 75vh;">
        <form method="POST" autocomplete="off">
            {% csrf_token %}
            <div class="forms-input-holder">
                <input type="text" placeholder="First Name" name="firstname" id="c_firstname" required="true" autocapitalize="on" autofocus="true" tabindex="1"  >
            </div>
            <div class="forms-input-holder">
                <input type="text" placeholder="Middle Name" name="middlename" id="c_middlename" required="true" autocapitalize="on" tabindex="2">
            </div>
            <div class="forms-input-holder">
                <input type="text" placeholder="Last Name" name="lastname" id="c_lastname" required="true" autocapitalize="on" tabindex="3">
            </div>
            <div class="forms-input-holder">
                <input type="date" placeholder="Date Of Joining" name="doj" required="true" id="datefield" tabindex="4">
            </div>
            <div class="forms-input-holder">
                <input type="text" placeholder="Father Name" name="fathername" id="c_fathername" required="true" tabindex="5">
            </div>
            <div class="forms-input-holder">
                <input type="date" placeholder="Date Of Birth" name="dob" required="true" tabindex="6">
            </div>
            <div class="forms-input-holder">
                <input type="text" placeholder="Aadhaar Number" name="aadhaar" id="c_aadhaar" required="true" maxlength="12" minlength="12" pattern="[0-9]{12}">
            </div>
            <div class="forms-input-holder">
                <input type="text" placeholder="PAN Number" name="pan" id="c_pan" required="true" pattern="[A-Z]{5}[0-9]{4}[A-Z]{1}" minlength="10" maxlength="10">
            </div>
            <div class="forms-input-holder">
                <input type="text" placeholder="Contact Number" name="contact" id="c_contact" required="true" pattern="[6-9]{1}[0-9]{9}" minlength="10" maxlength="10">
            </div>
            <div class="forms-input-holder">
                <input type="text" placeholder="Emergency Contact Number" name="emergency" id="c_emergency" onblur="sameNumber('c_contact', 'c_emergency', this)" title="Emergency No. Cannot Be Same As Contact No." required="true" pattern="[6-9]{1}[0-9]{9}" minlength="10" maxlength="10">
            </div>
            <div class="forms-input-holder">
                <select name="" id="" >
                    <option value="" disabled selected>Type Of Hiring</option>
                </select>
            </div>

            <div class="forms-input-holder" style="display: none;">
                <input type="text" placeholder="Replacement UID" name="replacement" required="true">
            </div>
            <div class="forms-input-holder">
                <select name="" id="" >
                    <option value="" disabled selected>Sub Source</option>
                </select>
            </div>
            <div class="forms-input-holder" >
                <input type="text" placeholder="Referral" name="referral" required="true">
            </div>
            <label for="">Entity</label>
            <div class="forms-input-holder">
                <select name="location_entity" id="location_entity" required="true">
                    <option value="" disabled selected>Select Entity</option>
                    {% if entity_list %}
                        {% for eachentity in entity_list %}
                            <option value="{{ eachentity.pk }}" label="{{ eachentity.entity_name }}">{{ eachentity.entity_name }}</option>
                        {% endfor %}                
                    {% endif %}
                </select>
            </div>
        
            <label for="">Department</label>
            <div class="forms-input-holder">
                <select name="location_dept" id="location_dept" required="true" disabled="true">
                    <option value="" disabled selected>Select department</option>
                    {% if department_list %}
                        {% for eachdepartment in department_list %}
                            <option value="{{ eachdepartment.pk }}" label="{{ eachdepartment.department_name }}">{{ eachdepartment.fk_entity_code_id }}</option>
                        {% endfor %}                
                    {% endif %}
                </select>
            </div>
            <label for="">Function</label>
            <div class="forms-input-holder">
                <select name="location_function" id="location_function" required="true" disabled="true">
                    <option value="" disabled selected>Select Function</option>
                    {% if function_list %}
                        {% for eachfunction in function_list %}
                            <option value="{{ eachfunction.pk }}" label="{{ eachfunction.function_name }}">{{ eachfunction.fk_department_code_id }}</option>
                        {% endfor %}                
                    {% endif %}
                </select>
            </div>
            <label for="">Team</label>
            <div class="forms-input-holder">
                <select name="location_team" id="location_team" required="true"  disabled="true">
                    <option value="" disabled selected>Select Team</option>
                    {% if team_list %}
                        {% for eachteam in team_list %}
                            <option value="{{ eachteam.pk }}" label="{{ eachteam.team_name }}">{{ eachteam.fk_function_code_id }}</option>
                        {% endfor %}                
                    {% endif %}
                </select>
            </div>
            <label for="">Sub Team</label>
            <div class="forms-input-holder">
                <select name="location_subteam" id="location_subteam" required="true" disabled="true">
                    <option value="" disabled selected>Select Sub Team</option>
                    {% if sub_team_list %}
                        {% for eachsubteam in sub_team_list %}
                            <option value="{{ eachsubteam.pk }}" label="{{ eachsubteam.sub_team_name }}">{{ eachsubteam.fk_team_code_id }}</option>
                        {% endfor %}                
                    {% endif %}
                </select>
            </div>
            <label for="">Designation</label>
            <div class="forms-input-holder">
                <select name="location_desg" id="location_desg" required="true" disabled="true">
                    <option value="" disabled selected>Select Designation</option>
                    {% if designation_list %}
                        {% for eachdesignation in designation_list %}
                            <option value="{{ eachdesignation.pk }}" label="{{ eachdesignation.designation_name }}">{{ eachdesignation.fk_sub_team_code_id }}</option>
                        {% endfor %}                
                    {% endif %}
                </select>
            </div>
            <label for="">Region</label>
            <div class="forms-input-holder">
                <select name="location_region" id="location_region" required="true" disabled="true">
                    <option value="" disabled selected>Select Region</option>
                    {% if region_list %}
                        {% for eachregion in region_list %}
                            <option value="{{ eachregion.pk }}" label="{{ eachregion.region_name }}">{{ eachregion.fk_designation_code_id }}</option>
                        {% endfor %}                
                    {% endif %}
                </select>
            </div>
            <label for="">State</label>
            <div class="forms-input-holder">
                <select name="location_state" id="location_state" required="true" disabled="true">
                    <option value="" disabled selected>Select State</option>
                    {% if state_list %}
                        {% for eachstate in state_list %}
                            <option value="{{ eachstate.pk }}" label="{{ eachstate.state_name }}">{{ eachstate.fk_region_code_id }}</option>
                        {% endfor %}                
                    {% endif %}
                </select>
            </div>
            <label for="">City</label>
            <div class="forms-input-holder">
                <select name="location_city" id="location_city" required="true" disabled="true">
                    <option value="" disabled selected>Select City</option>
                    {% if city_list %}
                        {% for eachcity in city_list %}
                            <option value="{{ eachcity.pk }}" label="{{ eachcity.city_name }}">{{ eachcity.fk_state_code_id }}</option>
                        {% endfor %}                
                    {% endif %}
                </select>
            </div>
            <label for="">Location</label>
            <div class="forms-input-holder">
                <select name="region_desg" id="region_desg" required="true" disabled="true">
                    <option value="" disabled selected>Select Location</option>
                    {% if designation_list %}
                        {% for eachdesignation in designation_list %}
                            <option value="{{ eachdesignation.pk }}" label="{{ eachdesignation.designation_name }}">{{ eachdesignation.fk_sub_team_code_id }}</option>
                        {% endfor %}                
                    {% endif %}
                </select>
            </div>

            <div class="forms-input-holder">
                <input type="text" placeholder="Reporting Manager" name="rm" required="true" pattern="[U]{1}[A-Za-z0-9]{1,5}" autocapitalize="on">
            </div>
            <div class="forms-input-holder">
                <input type="email" placeholder="Reporting Manager Email ID" name="rmemail" required="true">
            </div>
           
            <label for="">Gender</label>
            <div class="forms-input-holder">
                <select name="region_desg" id="region_desg" required="true" disabled="true">
                    <option value="" disabled selected>Select Gender</option>
                    {% if designation_list %}
                        {% for eachdesignation in designation_list %}
                            <option value="{{ eachdesignation.pk }}" label="{{ eachdesignation.designation_name }}">{{ eachdesignation.fk_sub_team_code_id }}</option>
                        {% endfor %}                
                    {% endif %}
                </select>
            </div>
            <label for="">Email ID Creation</label>
            <div class="forms-input-holder">
                <select name="region_desg" id="region_desg" required="true" disabled="true">
                    <option value="" disabled selected>Select</option>
                    <option value="Yes" >Yes</option>
                    <option value="No" >No</option>                    
                </select>
            </div>
            <label for="">Laptop Allocation</label>
            <div class="forms-input-holder">
                <select name="region_desg" id="region_desg" required="true" disabled="true">
                    <option value="" disabled selected>Select</option>
                    <option value="Yes" >Yes</option>
                    <option value="No" >No</option>                    
                </select>
            </div>
            <label for="">Salary Type</label>
            <div class="forms-input-holder">
                <select name="region_desg" id="region_desg" required="true" disabled="true">
                    <option value="" disabled selected>Select</option>
                                    
                </select>
            </div>
            <div class="forms-input-holder">
                <input type="text" placeholder="Gross Salary Amount" name="gsa" id="c_salary" required="true" maxlength="10" minlength="1">
            </div>
        
              
    </div>
    <div class="form_footer">
            <button class="forms-save-btn" formaction="{% url 'csp_app:candidate' %}" type="submit">Save Candidate</button>
 </form>
    </div>
  
  </div>
<script>
    $(document).ready(function(){
        showMe('Candidate', 'can-expand');
        $(document).keyup(function(){
            if (event.keyCode === 27){
            $("#candidates_form").css("display", "none");
            }
        });
        $(window).click(function(e) {
        if (e.target.id === 'candidates_form'){
            $("#candidates_form").css("display", "none");
        }   
        });  
        $('#new_candidate').click(function(){
            $("#candidates_form").css("display", "block");
        });
    })
</script>
{% endblock %}